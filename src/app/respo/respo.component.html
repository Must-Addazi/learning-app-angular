<div class="container">
  <mat-card [formGroup]="programFormGroup" class="paymentForm">
      <mat-card-header>
          <mat-card-title>
              New Program
          </mat-card-title>
      </mat-card-header>
      <mat-divider>
      </mat-divider>
      <mat-card-content>  
        <mat-form-field appearance="outline">
          <mat-label>
             Program Name
          </mat-label>
          <input matInput  formControlName="name"/>
      </mat-form-field>        
        <mat-form-field floatLabel="always" appearance="outline">
            <mat-label>Prix</mat-label>
            <input matInput type="number" formControlName="price"  class="example-right-align" placeholder="0" />
            <span matTextPrefix>DHS&nbsp;</span>
            <span matTextSuffix>.00</span>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>
                Respo Name
            </mat-label>
            <input matInput  formControlName="respoName"/>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>
              Phone Number
          </mat-label>
          <input matInput  formControlName="phone"/>
          <mat-error *ngIf="programFormGroup.get('phone')?.hasError('required') ">phone is required</mat-error>
          <mat-error *ngIf="programFormGroup.get('phone')?.hasError('minLength') && programFormGroup.get('phone')?.touched">phone number must be exactly 10 digits</mat-error>
          <mat-error *ngIf="programFormGroup.get('phone')?.hasError('maxLength') && programFormGroup.get('phone')?.touched">phone number must be exactly 10 digits</mat-error>          
       </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>
            email
        </mat-label>
        <input matInput  formControlName="email"/>
        <mat-error *ngIf="programFormGroup.get('email')?.hasError('required')">email is required</mat-error>
        <mat-error *ngIf="programFormGroup.get('email')?.hasError('email') && programFormGroup.get('email')?.touched">Invalid email format</mat-error>      
    </mat-form-field>
          <mat-form-field appearance="outline">
              <mat-label>
                  Poster
              </mat-label>
              <button type="button" mat-icon-button matPrefix (click)="f_input.click()">
              <mat-icon>attach_file</mat-icon>
              </button>
              <input matInput readonly formControlName="fileName"/>
              <input type="file" hidden #f_input (change)="selectFile($event)" accept="application/pdf"/>
          </mat-form-field>
      </mat-card-content>
      <mat-card-actions [align]="'end'">
          <button mat-raised-button style="margin-right: 5px;" (click)="resetFile()">Reset File</button>
          <button mat-raised-button (click)="saveRespoProgram()" color="primary">Save </button>
       @if(shoProgress){
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      }
      </mat-card-actions>
  </mat-card>
  <mat-card>
      <mat-card-header>
          <mat-card-title>
            Poster File 
          </mat-card-title>
      </mat-card-header>
      <mat-card-content>
          <div *ngIf="pdfFileUrl">
              <pdf-viewer
              [src]="pdfFileUrl"
              [original-size]="true"
              [show-all]="true"
              [render-text]="true"
              style="display: block; height: 80vh;">
            </pdf-viewer>
            
 
          </div>
          
      </mat-card-content>
  </mat-card>
  
  </div>